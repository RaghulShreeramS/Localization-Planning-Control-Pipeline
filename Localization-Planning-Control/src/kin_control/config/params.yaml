# TODO: this node needs cleanup.
KinControlNode:
  ros__parameters:
    auto_enabled: true
    mute: false
    min_lookahead: 10.0
    max_lookahead: 50.0
    lookahead_speed_ratio: 0.4
    proportional_gain: 0.23     # Original: 0.2
    derivative_gain: 0.01       # Original: 0
    max_steer_angle: 15.0
    vehicle:
      wheelbase: 2.9718
      cg_to_front: 1.723644
      cg_to_rear: 1.248156
      tire_stiffness_front: 100000.0
      tire_stiffness_rear: 100000.0
      mass: 720.0
      inertia: 1000.0
      
    max_lat_error: 2.0 # > <this> for error level 3, > <2*this> for error_level 4
    max_lookahead_error: 5.0 # > <this> for error level 3, > <2*this> for error_level 4

    max_one_step_lat_err_rate: 2000.0 # max allowed one-step change divided by time difference
    max_avg_lat_err_rate: 1000.0 # max allowed average change divided by time history duration
    lat_err_history_length: 4 # time history length
    
    curv_to_velocity_constant: 10000.0 #0.01 # converts path curvature to max velocity 
    max_possible_deceleration: 2.0
